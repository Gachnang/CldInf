# This file is generated from information provided by doConfig.sh
# Please refer to the documentation in the bird-doc package or BIRD User's
# Guide on http://bird.network.cz/ for more information on configuring BIRD and
# adding routing protocols.

# log "/var/log/bird.log" all; # Log all in logfile: Commented out because af access error..
log syslog { info, remote, warning, error, auth, fatal, bug };

# Change this into your BIRD router ID.
router id 2.2.2.2;

# The Device protocol is not a real routing protocol. It doesn't generate any
# routes and it only serves as a module for getting information about network
# interfaces from the kernel.
protocol device {
    scan time 10; # Scan interfaces every 10 seconds
}

# The Kernel protocol is not a real routing protocol. Instead of communicating
# with other routers in the network, it performs synchronization of BIRD's
# routing tables with the OS kernel.
protocol kernel {
    metric 64;      # Use explicit kernel route metric to avoid collisions
                    # with non-BIRD routes in the kernel routing table
    persist;        # Don't remove routes on BIRD shutdown
    scan time 20;   # Scan kernel routing table every 20 seconds
    import all;     # Default is import all
    learn;
    export all;     # Actually insert routes into the kernel routing table
}


protocol rip {
    export all;
    import all;
    interface "*";
}

protocol static {
    import all;

}

protocol ospf {
    tick 5;       # The routing table calculation and clean-up of areas' databases is not performed when a single link
                  # state change arrives. To lower the CPU utilization, it's processed later at periodical intervals of num
                  # seconds. The default value is 1.
    import all;
    export all;

    area 0 {
        networks {
            10.0.0.0/8;
            172.16.0.0/24;
            192.168.1.0/24;
        };

        interface "ens*" {
            cost 10;
            type broadcast;
            hello 9;
            retransmit 6;
            wait 50;
            dead count 5;
        };

        interface "*" {
                cost 1000;
                stub;
        };
    };
}